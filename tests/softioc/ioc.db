record(calcout, "snapshot:test:_sinecounter")
{
    field(SCAN, ".1 second")
    field(CALC, "A+B")
    field(INPA, "snapshot:test:_sinecounter.VAL NPP")
    field(INPB, "0.01")
    field(OCAL, "sin(A)")
    field(DOPT, "Use OCAL")
    field(OUT, "snapshot:test:sine PP")
}

record(ai, "snapshot:test:sine")
{
    field(PREC, 4)
    field(FLNK, "snapshot:test:_anglecounter.PROC")
}

record(calcout, "snapshot:test:_anglecounter")
{
    field(CALC, "asin(A)")
    field(INPA, "snapshot:test:sine")
    field(OUT, "snapshot:test:angle_rad PP")
    field(FLNK, "snapshot:test:_angletodeg.PROC")
}

record(ai, "snapshot:test:angle_rad")
{
    field(PREC, 2)
    field(EGU, "radians")
}

record(calcout, "snapshot:test:_angletodeg")
{
    field(CALC, "A*180/3.14")
    field(INPA, "snapshot:test:angle_rad")
    field(OUT, "snapshot:test:angle_deg PP")
}

record(ai, "snapshot:test:angle_deg")
{
    field(PREC, 0)
    field(EGU, "deg")
}

record(ai, "snapshot:test:alarms")
{
    field(PREC, 1)
    field(INP, "snapshot:test:sine CP")
    field(HIGH, "0.5")
    field(HIHI, "0.8")
    field(HSV, "MINOR")
    field(HHSV, "MAJOR")
    field(LOW, "-0.5")
    field(LOLO, "-0.8")
    field(LSV, "MINOR")
    field(LLSV, "MAJOR")
}

record(calcout, "snapshot:test:_statuscalc")
{
    field(SCAN, ".5 second")
    field(CALC, "(A+1)%6")
    field(INPA, "snapshot:test:_statuscalc.VAL NPP")
    field(OUT, "snapshot:test:some_status PP")
}

record(mbbi, "snapshot:test:some_status")
{
    field(ZRST, "Init")
    field(ONST, "Ready")
    field(TWST, "Run")
    field(THST, "Error")
    field(THSV, "MAJOR")
    field(FRST, "Bootloader")
    field(FRSV, "MINOR")
    field(FVST, "Reset Imminent")
    field(FVSV, "MINOR")
}

record(mbbiDirect, "snapshot:test:some_status_direct")
{
    field(INP, "snapshot:test:some_status CP")
}

record(calcout, "snapshot:test:_switchcalc")
{
    field(SCAN, "1 second")
    field(CALC, "A>0?0:1")
    field(INPA, "snapshot:test:_switchcalc.VAL NPP")
    field(OUT, "snapshot:test:switch_with_text PP")
}

record(bo, "snapshot:test:switch_with_text")
{
    field(ZNAM, "Open")
    field(ONAM, "Closed")
}

record(bi, "snapshot:test:switch_without_text")
{
    field(INP, "snapshot:test:switch_with_text CP")
}

record(stringout, "snapshot:test:text")
{
    field(VAL, "text in snapshot:test:text")
}

#record(waveform, "snapshot:test:wf_strings")
#{
#    field(FTVL, "STRING")
#    field(NELM, "3")
#    field(INP, ["abc", "def", "ghi"])
#}
#
#record(waveform, "snapshot:test:wf_strings_large")
#{
#    field(FTVL, "STRING")
#    field(NELM, "10")
#    field(INP, ["abc", "def", "ghi", "jkl", "nmo", "prs", "tuv", "xyz", "zyx", "vut"])
#}
#
#record(waveform, "snapshot:test:wf_ints")
#{
#    field(FTVL, "LONG")
#    field(NELM, "15")
#    field(INP, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15])
#}
#
#record(waveform, "snapshot:test:wf_chars")
#{
#    field(FTVL, "CHAR")
#    field(NELM, "15")
#    field(INP, [0x41, 0x42, 0x41, 0x42, 0x41, 0x42, 0x41, 0x42, 0x41, 0x42, 0x41, 0x42, 0x41, 0x42, 0x51])
#}
#
#record(waveform, "snapshot:test:wf_double")
#{
#    field(FTVL, "DOUBLE")
#    field(NELM, "15")
#    field(INP, [1.1, 2.2, 3.2, 4.2, 5.2, 6.2, 7.2, 8.2, 9.2, 10.2, 11.22, 12.2, 13.33, 14.1, 15.2])
#}
#
#record(waveform, "snapshot:test:wf_double_prec_2")
#{
#    field(PREC, 2)
#    field(FTVL, "DOUBLE")
#    field(NELM, "15")
#    field(INP, [1.1, 2.2, 3.2, 4.2, 5.2, 6.2, 7.2, 8.2, 9.2, 10.2, 11.22, 12.2, 13.33, 14.1, 15.2])
#}
#
#record(waveform, "snapshot:test:wf_double_prec_5")
#{
#    field(PREC, 5)
#    field(FTVL, "DOUBLE")
#    field(NELM, "15")
#    field(INP, [1.1, 2.2, 3.2, 4.2, 5.2, 6.2, 7.2, 8.2, 9.2, 10.2, 11.22, 12.2, 13.33, 14.1, 15.2])
#}
